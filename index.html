<!doctype html>
<html class="theme-next   use-motion ">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="google-site-verification" content="96ypaMzFDVwkClNJqeszPCdDhAzWlNALvTNdOIl6gBg" />
<meta name="baidu-site-verification" content="gaTPsggfLS" />


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  <link href="//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.4.5.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.2" />






<meta name="description" content="我怎敢倒下，我身后空无一人。">
<meta property="og:type" content="website">
<meta property="og:title" content="Vae">
<meta property="og:url" content="vaexiaochang.cn/index.html">
<meta property="og:site_name" content="Vae">
<meta property="og:description" content="我怎敢倒下，我身后空无一人。">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Vae">
<meta name="twitter:description" content="我怎敢倒下，我身后空无一人。">



<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: '',
    sidebar: 'post',
    motion: true
  };
</script>

  <title> Vae </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  






  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Vae</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">现在开始认真的去做一些事</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th fa-fw"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-heartbeat fa-fw"></i> <br />
            
            公益404
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          
  <section id="posts" class="posts-expand">

    

    
    

    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/19/NSOperation详解/" itemprop="url">
                  NSOperation详解
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-07-19T23:10:23+08:00" content="2016-07-19">
              2016-07-19
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/07/19/NSOperation详解/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/19/NSOperation详解/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          
         

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="NSOperation_u8BE6_u89E3"><a href="#NSOperation_u8BE6_u89E3" class="headerlink" title="NSOperation详解"></a>NSOperation详解</h1><h2 id="NSOperation_u662F_u4EC0_u4E48_3F"><a href="#NSOperation_u662F_u4EC0_u4E48_3F" class="headerlink" title="NSOperation是什么?"></a>NSOperation是什么?</h2><p>NSOperation 是oc中多线程技术的一种，是基于 GCD 做的面向对象的封装。相比较与GCD的使用更为简单，并且提供了一些用GCD不是很好实现的功能：</p>
<ul>
<li>取消在任务处理队列中的任务</li>
<li>添加任务间的依赖关系</li>
<li>设置任务的最大并发数</li>
<li>提供了任务的状态：isExecuteing, isFinished.</li>
</ul>
<h3 id="NSOperation_u7684_u4E3B_u8981_u7279_u70B9"><a href="#NSOperation_u7684_u4E3B_u8981_u7279_u70B9" class="headerlink" title="NSOperation的主要特点"></a>NSOperation的主要特点</h3><p>NSOperation是一个抽象类，不能直接使用，要实现它的子类才可以使用。实现NSOperation子类的方式有3种：</p>
<ol>
<li>NSInvocationOperation</li>
<li>NSBlockOperation</li>
<li>自定义子类继承NSOperation，实现内部相应的方法</li>
</ol>
<p>NSOperation的一些主要属性</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">property</span><span class="title"> </span>(readonly, <span class="variable">getter=</span>isCancelled) BOOL cancelled;</span><br><span class="line"></span><br><span class="line">@<span class="keyword">property</span><span class="title"> </span>(readonly, <span class="variable">getter=</span>isExecuting) BOOL executing;</span><br><span class="line"></span><br><span class="line">@<span class="keyword">property</span><span class="title"> </span>(readonly, <span class="variable">getter=</span>isFinished) BOOL finished;</span><br></pre></td></tr></table></figure>
<p>属性的基本使用会在下面说到。</p>
<h2 id="u5982_u4F55_u4F7F_u7528NSOperation"><a href="#u5982_u4F55_u4F7F_u7528NSOperation" class="headerlink" title="如何使用NSOperation"></a>如何使用NSOperation</h2><p>按照之前讲述的NSOperation是一个抽象类，所以我们使用时，必须用其子类才可以使用：<br>先看一个小例子：</p>
<h3 id="NSInvocationOperation"><a href="#NSInvocationOperation" class="headerlink" title="NSInvocationOperation"></a>NSInvocationOperation</h3><p>使用的时候我们可以直接创建操作，然后启动就可以了，操作会在当前线程中<strong>同步执行</strong>任务。</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">NSOperation *operation = [[NSInvocationOperation alloc] <span class="string">initWithTarget:</span>self <span class="string">selector:</span><span class="annotation">@selector</span>(<span class="string">doSomeThings:</span>) <span class="string">object:</span>@<span class="string">"Invocation"</span>];</span><br><span class="line">    </span><br><span class="line">[operation start];</span><br></pre></td></tr></table></figure>
<p>我们在GCD中并发（全局）队列使用的最多，所以NSOperation直接把GCD里面的并发队列封装起来。NSOperationQueue队列，本质上就是GCD的并发队列。<br>我们还可以将操作放到队列中，只要将操作添加到队列，操作会自动<strong>异步执行</strong>调度方法。</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">NSOperation *operation = [[NSInvocationOperation alloc]<span class="string">initWithTarget:</span>self <span class="string">selector:</span><span class="annotation">@selector</span>(<span class="string">doSomeThings:</span>) <span class="string">object:</span>@<span class="string">"Invocation"</span>];</span><br><span class="line"></span><br><span class="line">NSOperationQueue *queue = [[NSOperationQueue alloc] init];</span><br><span class="line">[queue <span class="string">addOperation:</span>operation];</span><br></pre></td></tr></table></figure>
<h3 id="NSBlockOperation"><a href="#NSBlockOperation" class="headerlink" title="NSBlockOperation"></a>NSBlockOperation</h3><p>NSBlockOperation使用时是直接将block中的操作放到异步执行。</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSOperationQueue</span> *queue = [[<span class="built_in">NSOperationQueue</span> alloc] init];</span><br><span class="line"><span class="built_in">NSBlockOperation</span> * operation = [<span class="built_in">NSBlockOperation</span> blockOperationWithBlock:^&#123;</span><br><span class="line">			</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, [<span class="built_in">NSThread</span> currentThread]);</span><br><span class="line">&#125;];</span><br><span class="line">[queue addOperation:operation];</span><br></pre></td></tr></table></figure>
<p>线程间通信</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSOperationQueue</span> *queue = [[<span class="built_in">NSOperationQueue</span> alloc]init];</span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">[queue addOperationWithBlock:^&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"耗时操作....%@"</span>, [<span class="built_in">NSThread</span> currentThread]);</span><br><span class="line">       </span><br><span class="line">    <span class="comment">// 在主线程更新UI</span></span><br><span class="line">      [[<span class="built_in">NSOperationQueue</span> mainQueue] addOperationWithBlock:^&#123;</span><br><span class="line">           <span class="built_in">NSLog</span>(<span class="string">@"更新UI....%@"</span>, [<span class="built_in">NSThread</span> currentThread]);</span><br><span class="line">      &#125;];</span><br><span class="line"> &#125;];</span><br></pre></td></tr></table></figure>
<h3 id="u81EA_u5B9A_u4E49_u5B50_u7C7B_u7EE7_u627FNSOperation"><a href="#u81EA_u5B9A_u4E49_u5B50_u7C7B_u7EE7_u627FNSOperation" class="headerlink" title="自定义子类继承NSOperation"></a>自定义子类继承NSOperation</h3><p>你也可以实现自己的子类，通过重写<strong>main</strong>方法或者<strong>start</strong>方法来定义自己的operations。</p>
<h4 id="u521B_u5EFA_u975E_u5E76_u53D1_u7684NSOperation_u5B50_u7C7B"><a href="#u521B_u5EFA_u975E_u5E76_u53D1_u7684NSOperation_u5B50_u7C7B" class="headerlink" title="创建非并发的NSOperation子类"></a>创建非并发的NSOperation子类</h4><p>创建非并发的NSOperation子类很简单，重写main方法就行了。<br>使用main方法非常简单，开发者不需要管理一些Operation的一些状态属性。当main方法执行完毕的时候，这个Operation也就结束了。这种只重写main方法的使用起来简单，灵活性不如重写start方法。因为main方法执行完就可以认为operation结束了，所以一般可用来做执行同步任务。</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@implementation</span> YourOperation</span><br><span class="line">- (void)main</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 任务代码 ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">@end</span></span><br></pre></td></tr></table></figure>
<h4 id="u521B_u5EFA_u5E76_u53D1_u7684NSOperation_u5B50_u7C7B"><a href="#u521B_u5EFA_u5E76_u53D1_u7684NSOperation_u5B50_u7C7B" class="headerlink" title="创建并发的NSOperation子类"></a>创建并发的NSOperation子类</h4><p>重写start方法可以使你拥有更多的可操作性，如果你想再一个操作中执行异步任务，就重写start方法，但是这样你就必须得手动管理操作的状态了。这就涉及到前面所说的NSOperation的属性了。NSOperation提供了<strong>ready</strong> <strong>cancelled</strong> <strong>executing</strong>  <strong>finished</strong> 这几个状态的变化，并且这些状态都是通过设置了keypath的kvo通知所决定的。我们开发的时候也就是关注这些其中的状态。所以当我们重写NSOperation的start方法的时候，我们必须得手动的修改这些状态。上面的这些状态都是BOOL值。finished这个状态在操作完成后请及时设置为YES，因为NSOperationQueue所管理的队列中，只有isFinished为YES时才将其移除队列，这点在内存管理和避免死锁很关键。</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">SavePhotoOperation</span>() </span>&#123;</span><br><span class="line"><span class="keyword">@private</span></span><br><span class="line">    <span class="built_in">BOOL</span> executing;</span><br><span class="line">    <span class="built_in">BOOL</span> finished;</span><br><span class="line">    <span class="built_in">BOOL</span> cancelled;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">PASavePhotoOperation</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)start &#123;</span><br><span class="line">    <span class="comment">// Always check for cancellation before launching the task.</span></span><br><span class="line">    <span class="keyword">if</span> ([<span class="keyword">self</span> isCancelled]) &#123;</span><br><span class="line">        <span class="comment">// Must move the operation to the finished state if it is canceled.</span></span><br><span class="line">        [<span class="keyword">self</span> willChangeValueForKey:<span class="string">@"isFinished"</span>];</span><br><span class="line">        finished = <span class="literal">YES</span>;</span><br><span class="line">        [<span class="keyword">self</span> didChangeValueForKey:<span class="string">@"isFinished"</span>];</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// If the operation is not canceled, begin executing the task.</span></span><br><span class="line">    [<span class="keyword">self</span> willChangeValueForKey:<span class="string">@"isExecuting"</span>];</span><br><span class="line">    [<span class="built_in">NSThread</span> detachNewThreadSelector:<span class="keyword">@selector</span>(main) toTarget:<span class="keyword">self</span> withObject:<span class="literal">nil</span>];</span><br><span class="line">    executing = <span class="literal">YES</span>;</span><br><span class="line">    [<span class="keyword">self</span> didChangeValueForKey:<span class="string">@"isExecuting"</span>];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)main &#123;</span><br><span class="line">  </span><br><span class="line">   <span class="keyword">@try</span> &#123;</span><br><span class="line">        <span class="comment">// Do the main work of the operation here.</span></span><br><span class="line"></span><br><span class="line">        [<span class="keyword">self</span> completeOperation];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">@catch</span>(...) &#123;</span><br><span class="line">        <span class="comment">// Do not rethrow exceptions.</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)completeOperation &#123;</span><br><span class="line">    [<span class="keyword">self</span> willChangeValueForKey:<span class="string">@"isFinished"</span>];</span><br><span class="line">    [<span class="keyword">self</span> willChangeValueForKey:<span class="string">@"isExecuting"</span>];</span><br><span class="line">    </span><br><span class="line">    executing = <span class="literal">NO</span>;</span><br><span class="line">    finished = <span class="literal">YES</span>;</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span> didChangeValueForKey:<span class="string">@"isExecuting"</span>];</span><br><span class="line">    [<span class="keyword">self</span> didChangeValueForKey:<span class="string">@"isFinished"</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">BOOL</span>)isConcurrent &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)cancel &#123;</span><br><span class="line">    [<span class="keyword">self</span> willChangeValueForKey:<span class="string">@"isCancelled"</span>];</span><br><span class="line">    [<span class="keyword">self</span> willChangeValueForKey:<span class="string">@"isExecuting"</span>];</span><br><span class="line">    [<span class="keyword">self</span> willChangeValueForKey:<span class="string">@"isExecuting"</span>];</span><br><span class="line">    </span><br><span class="line">    cancelled = <span class="literal">YES</span>;</span><br><span class="line">    executing = <span class="literal">NO</span>;</span><br><span class="line">    finished = <span class="literal">YES</span>;</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span> didChangeValueForKey:<span class="string">@"isCancelled"</span>];</span><br><span class="line">    [<span class="keyword">self</span> didChangeValueForKey:<span class="string">@"isExecuting"</span>];</span><br><span class="line">    [<span class="keyword">self</span> didChangeValueForKey:<span class="string">@"isFinished"</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">BOOL</span>)isExecuting &#123;</span><br><span class="line">    <span class="keyword">return</span> executing;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">BOOL</span>)isFinished &#123;</span><br><span class="line">    <span class="keyword">return</span> finished;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">BOOL</span>)isCancelled &#123;</span><br><span class="line">    <span class="keyword">return</span> cancelled;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>上面就是一个基本的自定义子类继承的NSOperation的写法，其中手动发送KVO消息。通知状态更改如下：</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">[self willChangeValueForKey:@"isCancelled"]</span><span class="comment">;</span></span><br><span class="line"><span class="title">[self willChangeValueForKey:@"isExecuting"]</span><span class="comment">;</span></span><br><span class="line"><span class="title">[self willChangeValueForKey:@"isExecuting"]</span><span class="comment">;</span></span><br><span class="line"></span><br><span class="line"><span class="setting">cancelled = <span class="value"><span class="keyword">YES</span>;</span></span></span><br><span class="line"><span class="setting">executing = <span class="value"><span class="keyword">NO</span>;</span></span></span><br><span class="line"><span class="setting">finished = <span class="value"><span class="keyword">YES</span>;</span></span></span><br><span class="line"><span class="title"></span><br><span class="line">[self didChangeValueForKey:@"isCancelled"]</span><span class="comment">;</span></span><br><span class="line"><span class="title">[self didChangeValueForKey:@"isExecuting"]</span><span class="comment">;</span></span><br><span class="line"><span class="title">[self didChangeValueForKey:@"isFinished"]</span><span class="comment">;</span></span><br></pre></td></tr></table></figure>
<p>####NSOperation依赖关系</p>
<p>我们可以设定各个任务之间的依赖关系，等到一个任务执行完毕之后才能执行之后的任务。</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSBlockOperation</span> *op1 = [<span class="built_in">NSBlockOperation</span> blockOperationWithBlock:^&#123;</span><br><span class="line">      <span class="built_in">NSLog</span>(<span class="string">@"1. 下载一个小说的压缩包, %@"</span>,[<span class="built_in">NSThread</span> currentThread]);</span><br><span class="line"> &#125;];</span><br><span class="line"><span class="built_in">NSBlockOperation</span> *op2 = [<span class="built_in">NSBlockOperation</span> blockOperationWithBlock:^&#123;</span><br><span class="line">      <span class="built_in">NSLog</span>(<span class="string">@"2. 解压缩，删除压缩包, %@"</span>,[<span class="built_in">NSThread</span> currentThread]);</span><br><span class="line">  &#125;];</span><br><span class="line"><span class="built_in">NSBlockOperation</span> *op3 = [<span class="built_in">NSBlockOperation</span> blockOperationWithBlock:^&#123;</span><br><span class="line">      <span class="built_in">NSLog</span>(<span class="string">@"3. 更新UI, %@"</span>,[<span class="built_in">NSThread</span> currentThread]);</span><br><span class="line">  &#125;];</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 指定任务之间的依赖关系 -- 依赖关系可以跨队列(可以在子线程下载完，到主线程更新UI)</span></span><br><span class="line">  </span><br><span class="line">  [op2 addDependency:op1];</span><br><span class="line">  [op3 addDependency:op2];</span><br><span class="line">  <span class="comment">// waitUntilFinished 类似GCD的调度组的通知</span></span><br><span class="line">  <span class="comment">// NO 不等待，会直接执行  NSLog(@"come here");</span></span><br><span class="line">  <span class="comment">// YES 等待上面的操作执行结束，再 执行  NSLog(@"come here")</span></span><br><span class="line">  [<span class="keyword">self</span><span class="variable">.opQueue</span> addOperations:@[op1, op2] waitUntilFinished:<span class="literal">YES</span>];</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 在主线程更新UI</span></span><br><span class="line">  [[<span class="built_in">NSOperationQueue</span> mainQueue] addOperation:op3];</span><br><span class="line">  <span class="built_in">NSLog</span>(<span class="string">@"come here"</span>);</span><br></pre></td></tr></table></figure>
<p><strong>注意点</strong>：千万不要出现循环依赖，也就是说不要出现A依赖B，B又依赖A的关系。</p>
<h4 id="NSOperation_u6700_u5927_u5E76_u53D1_u6570"><a href="#NSOperation_u6700_u5927_u5E76_u53D1_u6570" class="headerlink" title="NSOperation最大并发数"></a>NSOperation最大并发数</h4><p>设置了最大并发数之后，同时执行的操作的数量便是最大并发数的数量。</p>
<h4 id="NSOperation_u4EFB_u52A1_u7684_u5904_u7406"><a href="#NSOperation_u4EFB_u52A1_u7684_u5904_u7406" class="headerlink" title="NSOperation任务的处理"></a>NSOperation任务的处理</h4><p>我们可以取消操作队列中得任务，也可以挂起操作队列中得任务，都是由操作队列中的属性来进行控制的。</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 取消队列的所有操作</span></span><br><span class="line">    [<span class="keyword">self</span><span class="variable">.opQueue</span> cancelAllOperations]; <span class="comment">// 取消队列的所有操作，会把任务从队列里面全部删除</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"取消所有的操作"</span>);</span><br><span class="line">    </span><br><span class="line"> <span class="comment">// 取消队列的挂起状态</span></span><br><span class="line"> <span class="comment">// （只要是取消了队列的操作，我们就把队列处于启动状态。以便于队列的继续）</span></span><br><span class="line"> <span class="keyword">self</span><span class="variable">.opQueue</span><span class="variable">.suspended</span> = <span class="literal">NO</span>;</span><br></pre></td></tr></table></figure>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/17/C语言学习整理（二）/" itemprop="url">
                  C语言学习整理（二）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-03-17T21:24:19+08:00" content="2016-03-17">
              2016-03-17
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/C语言/" itemprop="url" rel="index">
                    <span itemprop="name">C语言</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/17/C语言学习整理（二）/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/17/C语言学习整理（二）/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          
         

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <p>前言：上一篇可能开篇，讲的东西过于浅显，还有我本来打算全都整理一下的，但是发现细小的细节太多，全都写出来也不现实，所以抓住主要的整理吧。</p>
<h1 id="u53D8_u91CF_u662F_u4EC0_u4E48"><a href="#u53D8_u91CF_u662F_u4EC0_u4E48" class="headerlink" title="变量是什么"></a>变量是什么</h1><p>顾名思义，变量就是可以改变的量，与之相对应的就是常量，那么同样可以知道不能对常量做出修改。</p>
<p>那么常见的变量的类型有以下几种（64位编译器）：</p>
<table>
<thead>
<tr>
<th>名称</th>
<th style="text-align:center">声明类型</th>
<th style="text-align:right">所占字节数</th>
</tr>
</thead>
<tbody>
<tr>
<td>整型</td>
<td style="text-align:center">int</td>
<td style="text-align:right">4字节</td>
</tr>
<tr>
<td>单精度浮点型</td>
<td style="text-align:center">float</td>
<td style="text-align:right">4字节</td>
</tr>
<tr>
<td>双精度浮点型</td>
<td style="text-align:center">double</td>
<td style="text-align:right">8字节</td>
</tr>
<tr>
<td>字符</td>
<td style="text-align:center">char</td>
<td style="text-align:right">1字节</td>
</tr>
<tr>
<td>无符号整型</td>
<td style="text-align:center">unsigned int</td>
<td style="text-align:right">4字节</td>
</tr>
<tr>
<td>长整型</td>
<td style="text-align:center">long int</td>
<td style="text-align:right">8字节</td>
</tr>
<tr>
<td>指针类型</td>
<td style="text-align:center">char*</td>
<td style="text-align:right">8字节</td>
</tr>
</tbody>
</table>
<p>以上只是给出64位环境下字节数，随着编译器的不同，可能有的有的变化。C标准中并没有具体给出规定那个基本类型应该是多少字节数，而且这个也与机器、OS、编译器有关，比如同样是在32bits的操作系统系，VC++的编译器下int类型为占4个字节；而tuborC下则是2个字节。</p>
<h1 id="u53D8_u91CF_u7684_u58F0_u660E_u4E0E_u5B9A_u4E49"><a href="#u53D8_u91CF_u7684_u58F0_u660E_u4E0E_u5B9A_u4E49" class="headerlink" title="变量的声明与定义"></a>变量的声明与定义</h1><p>一般情况下，我们可以这样理解，在内存中开辟了空间称为<strong>定义</strong>，而不需要申请内存的称为<strong>声明</strong>。</p>
<p>准确的说的话。变量的声明（declaration）分为两种：</p>
<ol>
<li>一种是需要建立存储空间的。例如：我们在程序中写 int a； 那么在声明的时候就已经建立的存储空间了。这种声明是<strong>定义性声明</strong>，即我们平时说的<strong>“定义”</strong>。</li>
<li>另一种是不需要建立存储空间的，只是告诉编译器某变量已经在别处定义过了。例如：我们在程序中写 extern int a；其中 extern 关键字就是告诉编译器变量a已经在别处定义过了。这种声明是<strong>引用性声明</strong>。即我们平时所说的<strong>*“声明”</strong>。</li>
</ol>
<p>我这样说可能有些人要晕了，觉得变量的声明和定义到底有什么区别。其实从广义角度上讲，<strong>声明中包含着定义，而并非所有的声明都是定义</strong>。也是说<em>定义性声明</em>既是定义又是声明，而<em>引用性声明</em>只是声明。</p>
<p>举个栗子：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a;				<span class="comment">//定义性声明，分配存储空间，初值不确定 </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> b = <span class="number">0</span>;			<span class="comment">//定义性声明，分配存储空间，赋初值</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">int</span> c;		<span class="comment">//引用性声明，不分配存储空间，只是告诉编译器变量c在别处定义了</span></span><br></pre></td></tr></table></figure>
<p>最后一点在一个作用域中可以重复声明，但是不能重复定义。</p>
<h1 id="u53D8_u91CF_u7684_u4F7F_u7528"><a href="#u53D8_u91CF_u7684_u4F7F_u7528" class="headerlink" title="变量的使用"></a>变量的使用</h1><p>变量只有定义了以后才能经行初始化，初始化后才可以调用，千万不能调用一个没有经过初始化的变量，最终的输出结果是不确定的。</p>
<p>变量的修改，可以修改变量的值，多次覆盖以赋值。使用占位符输出变量。</p>
          <div class="post-more-link text-center">
            <a class="btn" href="/2016/03/17/C语言学习整理（二）/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/15/C语言学习整理（一）/" itemprop="url">
                  C语言学习整理（一）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-03-15T17:43:28+08:00" content="2016-03-15">
              2016-03-15
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/C语言/" itemprop="url" rel="index">
                    <span itemprop="name">C语言</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/15/C语言学习整理（一）/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/15/C语言学习整理（一）/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          
         

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>前言：以前的笔记都是记在印象笔记上，现在有了博客以后，打算把自己以前的C语言的笔记整理下做个总结吧。刚开始学习C语言的时候，觉得云里雾里特别是到了指针以后，不过后来看了C语言三剑客以后对C语言有了一个更深刻的认识。有的人以为C语言是一种特别简单的语言，就是几个运算符加上循环语句的话，那么我只能说你C语言的皮毛都没摸到。在几十年以来C语言一直占据着编程语言前三的位置，包括现在的主流的操作系统内核都是用C语言写的，C语言的重要性不言而喻，尽管现在许多高校把C语言作为计算机学生或者相关专业学生的第一门语言课，但并不意味着它很简单。好了，废话不多说，上干货。</p>
<h1 id="C_u8BED_u8A00_u7684_u601D_u60F3"><a href="#C_u8BED_u8A00_u7684_u601D_u60F3" class="headerlink" title="C语言的思想"></a>C语言的思想</h1><p>我们经常听到c++，java等语言用到了面向对象的思想，那么C语言用到了什么思想呢？C语言是用到了面向过程的思想，那么我先不说面向对象的思想，毕竟这不是重点。重点是面向过程：首先我们得理解我们是用计算机编写程序，计算机并不是人，并不能举一反三，只有我们将所有的情况都告诉它，它才能处理一些相关的问题，而且计算机思维是很死板的。所以我们用面向过程的思想去编程的时候，<strong>就要考虑每一步是怎么做的，而计算机也会按照你所给的指令，一步一步的去执行你输入的代码</strong>。</p>
<p><em>举个栗子：</em></p>
<p>你去餐馆吃饭，你告诉服务员去倒杯水你。但是用面向过程来解释就不是说一句话那么简单了，你得首先告诉服务员，去拿一个杯子，然后拿这个杯子去厨房倒一杯水，然后将水放在你的桌子上。是不是很麻烦，对，面向过程就是要让你把每一步的过程都告诉它。</p>
<h1 id="u521D_u8BC6C_u8BED_u8A00"><a href="#u521D_u8BC6C_u8BED_u8A00" class="headerlink" title="初识C语言"></a>初识C语言</h1><p>一般我们开始写C语言的时候，老师一般告我们打开编辑器，然后在编辑框里面输入下面的程序。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line">	</span>&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"hello world!"</span>);</span><br><span class="line">	</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<p>上面看似一个很简单的程序，但是刚开始的时候我们都不懂这一大堆的单词的组合是什么意思。好吧，从头开始，（我这篇文章是基于有一定基础的人看的，不要问我怎么搭建环境）.</p>
<h2 id="23include"><a href="#23include" class="headerlink" title="#include"></a><em>#include<stdio.h></stdio.h></em></h2><p>前面的include的C语言的预编译指令，#include 这个指令的作用是把另一个文件的内容引入到本文件中，在许多情况下这个功能可以方便代码的管理，也节省了磁盘空间。#include<stdio.h> 指令的作用是引入 stdio.h 文件，它是 C 语言标准库中的一个文件，<strong>声明了跟标准输入输出相关的函数和变量</strong>。</stdio.h></p>
<p>你也可以自己声明你需要的 stdio.h 里面的函数，效果是一样的。stdio的全称是standard input&amp;output，所以从字面上我们就可以很好的了解这个库的作用了。记住一般系统的函数库的引入用的是&lt;&gt;,而当我们自己写了一个文件想引入的时候，就要用””。比如：#include”test.h”.</p>
<h2 id="int_main_28_29"><a href="#int_main_28_29" class="headerlink" title="int main()"></a><strong>int main()</strong></h2><p>这是程序的入口，一般计算机读取我们的程序的时候都是从main函数开始，一步一步的执行程序。可能刚开始的时候有人用的void main（）,C语言发展历史过程中，<code>void main()</code> 和 <code>int main()</code> 这两种形式都是被允许（或者曾经被允许的）。到了C90，<code>main</code>函数被要求声明为，</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">int <span class="function"><span class="title">main</span><span class="params">()</span></span></span><br><span class="line">int <span class="function"><span class="title">main</span><span class="params">(int argc, char **argv)</span></span></span><br></pre></td></tr></table></figure>
<p>或者等价的形式, 比如<code>int main(int argc, char *argv[])</code>。且<code>int</code>返回类型是默认的，所以在写法上可以被忽略，比如写成<code>main()</code>。</p>
<p>而到了C99，main前面的int变成是必须的了。</p>
<p>另外，对于C99，如果main执行到最后没有return，那默认会返回0.</p>
<h2 id="printf_28_u201Chello_world_u201D_29_3B"><a href="#printf_28_u201Chello_world_u201D_29_3B" class="headerlink" title="printf(“hello world”);"></a><strong>printf(“hello world”);</strong></h2><p>printf是C语言的输出函数，也就是将信息打印到控制台上，也就是我们看到的那个黑框框上面。</p>
<p>printf()函数是最常用的格式化输出函数，其原型为：</p>
<pre><code>int printf( char * format, ... );
</code></pre><p>printf()会根据参数 format 字符串来转换并格式化数据，然后将结果输出到标准输出设备（显示器），直到出现字符串结束(‘\0’)为止。</p>
<p>参数 format 字符串可包含下列三种字符类型</p>
<ul>
<li>一般文本会直接输出</li>
<li>ASCII控制字符，如\t,\n等有特定含义的</li>
<li>格式转换字符</li>
</ul>
<p>格式转换就是由一个%和一个转换字符组成的。比如我们输出一个整i，就会这样写</p>
<pre><code>printf(&quot;%d&quot;,i);
</code></pre><p>这里要注意的是：我们要所写的数据转换字符类型必须是和输出类型相对应的，不然会得不到你所意想中的内容的。</p>
<p>下面我就说几种常用的转换字符：</p>
<ul>
<li>%d 整数的参数会被转成有符号的十进制数字</li>
<li>%x  整数的参数会被转成无符号的十六进制数字，并以小写abcdef 表示</li>
<li>%X  整数的参数会被转成无符号的十六进制数字，并以大写ABCDEF 表示浮点型数</li>
<li>%f double  型的参数会被转成十进制数字，并取到小数点以下六位，四舍五入</li>
<li>%c 整型数的参数会被转成unsigned char 型打印出</li>
<li>%s 指向字符串的参数会被逐字输出，直到出现NULL 字符为止</li>
<li>%p 如果是参数是”void *”型指针则使用十六进制格式显示</li>
</ul>
<p>以上，接下来会继续整理，整理时间仓促，可能有些错误，欢迎大家指正。 </p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/14/如何努力才能变成很厉害的人/" itemprop="url">
                  如何努力才能变成很厉害的人
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-03-14T22:30:32+08:00" content="2016-03-14">
              2016-03-14
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/随笔/" itemprop="url" rel="index">
                    <span itemprop="name">随笔</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/14/如何努力才能变成很厉害的人/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/14/如何努力才能变成很厉害的人/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          
         

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <p>前言：把知乎上的收藏夹翻了下，发现了以前很多以前没有整理的好文章，现在贴出来一篇，供大家看看。</p>
<h1 id="Loser_u5E94_u8BE5_u77E5_u9053_u76846_u4E2A_u6B8B_u9177_u4EBA_u751F_u4E8B_u5B9E_uFF08_u8F6C_u8F7D_uFF09"><a href="#Loser_u5E94_u8BE5_u77E5_u9053_u76846_u4E2A_u6B8B_u9177_u4EBA_u751F_u4E8B_u5B9E_uFF08_u8F6C_u8F7D_uFF09" class="headerlink" title="Loser应该知道的6个残酷人生事实（转载）"></a>Loser应该知道的6个残酷人生事实（转载）</h1><hr>
<h1 id="6_uFF1A_u8FD9_u4E2A_u4E16_u754C_u53EA_u5173_u5FC3_u4F60_u80FD_u7ED9_u4E88_u4EC0_u4E48"><a href="#6_uFF1A_u8FD9_u4E2A_u4E16_u754C_u53EA_u5173_u5FC3_u4F60_u80FD_u7ED9_u4E88_u4EC0_u4E48" class="headerlink" title="6：这个世界只关心你能给予什么"></a>6：这个世界只关心你能给予什么</h1><p>我们假设一下你最爱的亲人在大街上被枪击了。TA一边失血一边尖叫。一个路人冲上来说“让一下”。他仔细检查了伤口并拿出一把小刀准备在大街上动手术取出子弹。</p>
<p>你问他：“你是医生吗？”</p>
<p>他回答说：“不是”</p>
<p>你说：“你知道你要做什么，对吧？你是不是退伍的军医，还是…</p>
<p>这个时候那个路人感觉有点不快了。他告诉你说他是一个好人，是一个诚实的人，他上班从来不迟到。他告诉你说他是一个孝顺的儿子。业余生活丰富，生活非常富足。他还说他从不说脏话。</p>
<p>你有点疑惑，说：“这ta吗的和我亲人被枪击躺在马路上有什么关系？我需要一个可以在伤口上动手术的人！你到底能不能做？”</p>
<p>现在这个路人非常生气了——为什么你就那么自私肤浅呢？你难道不在乎他的那些优良品德么？他刚才不对你说他总是记住女友的生日吗？他有那么多优良品质，你为什么就抓着他会不会外科手术这个事实不放呢？</p>
<p>在那个疯狂的情形下，你会用你沾满鲜血的双手用力摇晃他的肩膀，大喊道：“废话！你说的那些优良品质都是屁话，因为在当前情况下我只需要一个可以止血动手术的人！你这个神经病给我滚！”</p>
<p>所以，这就是我要说的第一点成人世界的残酷事实：你其实天天都身处于上述的“当前情况”之中。只不过换作你是那个喋喋不休的好心路人，而社会上其他所有人都换作成那个流血的伤者。</p>
<p>如果你想知道为什么社会对你不屑，或者你为什么从不受到尊重，这是因为社会充满了”需要某样东西”的人。他们需要人来造房子，他们需要食物，他们需要娱乐，他们需要人来满足性欲。你从出生开始就进入了这样的需要解决人们需求的社会系统。</p>
<p>你要么选择学习某种技能担当某样角色满足他人的需要，要么就选择被社会抛弃。这个社会不在乎你有多么善良，礼貌，无私。你会变穷，你会没有朋友，你会被遗弃。</p>
<p>但这是不是说我们要刻版、自私呢？爱和温柔重要吗？当然了，但前提是这些爱是别人需要的，也是从其他人那里得不到的。</p>
<p>否则的话…</p>
          <div class="post-more-link text-center">
            <a class="btn" href="/2016/03/14/如何努力才能变成很厉害的人/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/14/iOS通知机制详解/" itemprop="url">
                  iOS通知机制详解
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-03-14T14:49:16+08:00" content="2016-03-14">
              2016-03-14
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/14/iOS通知机制详解/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/14/iOS通知机制详解/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          
         

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <p>前言：在iOS中关于消息在不同的对象之间的通信，有很多种模式。在我刚开始学习iOS开发的时候就知道iOS开发主要是采用了MVC的设计模式，然后在斯坦福的公开课视屏中第一节课就讲到了MVC的设计模式，当时还不是很了解。但是其中记得数据模型要和模型之间经行消息传递时，要用到通知的机制。</p>
<p><img src="/images/MVC.png" alt=""></p>
<h1 id="u4EC0_u4E48_u662F_u901A_u77E5_u673A_u5236_u5462_uFF1F"><a href="#u4EC0_u4E48_u662F_u901A_u77E5_u673A_u5236_u5462_uFF1F" class="headerlink" title="什么是通知机制呢？"></a>什么是通知机制呢？</h1><p>每一个应用程都有一个通知中心（NSNotificationCenter）实例，专门来负责协助不同对象之间的消息通信。任何一个对象都可以向通知中心发布通知（NSNotofication），描述自己在做什么，其他对感兴趣的对象可以申请在某个特定通知发布时收到通知。</p>
<p>消息的发送者和消息的接受者两者之间可以一无所知，完全解耦。这种消息通知机制可以应用于任意时间和对象，观察者（消息的接受者）可以有多个，所以消息具有广播性质。只是需要注意的是：<strong>观察者向通知中心注册以后，在不需要接受消息的时需要向消息中心注销，这种广播机制是典型的观察者模式</strong></p>
<p>举个栗子：<br>比如当我们在学校到了吃饭的点，这个时候一室友对寝室群说：”肚子好饿啊，有谁一起去买饭”。那么这个时候你对吃饭这个消息感兴趣，收到了消息之后，你立马做出了相应的回应，告诉你的室友叫他帮你带。那么你们这个寝室群叫做通知中心，你室友在通知中心发布了“吃饭”这个通知，而你就是通知的接受者，你现在只对吃饭这件事感兴趣，所以你就成为了观察者，也就是消息的接受者，而且你们寝室群不只是有你们两个人，同时其他室友可能也对吃饭这件事感兴趣，那么他们也是观察者。</p>
          <div class="post-more-link text-center">
            <a class="btn" href="/2016/03/14/iOS通知机制详解/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/13/UIScrollView的基本用法/" itemprop="url">
                  UIScrollView的基本用法
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-03-13T13:18:38+08:00" content="2016-03-13">
              2016-03-13
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/13/UIScrollView的基本用法/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/13/UIScrollView的基本用法/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          
         

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <p>前言：在我们平常的使用中，UIScrollView也是经常要用到的，比如做图片轮播器什么的，还是蛮重要的，在这篇文章中，我就把UIScrollView的基本用法做一个总结。</p>
<h1 id="UIScrollerView_u662F_u4EC0_u4E48"><a href="#UIScrollerView_u662F_u4EC0_u4E48" class="headerlink" title="UIScrollerView是什么"></a>UIScrollerView是什么</h1><p>因为在我们的手机设备中，往往一个手机屏幕能显示的东西太少了。虽然说现在的手机屏幕的尺寸不断的加大，但是不管是多么大的手机屏幕，能够一次性的显示出我们想要的信息，那还是不且实际的。所以我们就需要UIScrollerView,它是一个可以滚动的视图，当你所想要看到的消息超出屏幕的范围的时候，用手机对屏幕经行滑动，就可以呈现出屏幕以外的内容。最典型的例子就是iPhone上自带的设置应用。</p>
<h2 id="UIScrollerView_u7684_u4F7F_u7528"><a href="#UIScrollerView_u7684_u4F7F_u7528" class="headerlink" title="UIScrollerView的使用"></a>UIScrollerView的使用</h2><p>用的时候其实也非常简单，只要我们先把UIScrollerView加入到当前视图，然后再设置UIScrollerView的contenSize，就是告诉UIScrollerView能显示的尺寸，然后通过拖动就能看到所有的内容了。</p>
          <div class="post-more-link text-center">
            <a class="btn" href="/2016/03/13/UIScrollView的基本用法/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/10/UITableView详解/" itemprop="url">
                  UITableView详解
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-03-10T20:00:00+08:00" content="2016-03-10">
              2016-03-10
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/10/UITableView详解/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/10/UITableView详解/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          
         

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <p>前言：在现在的iOS开发中，有很多地方都用到了UITableView,可以这样说，基本上市场上流行的应用都用到了，所以它的重要性就是不言而喻的，今天我就做一下总结。</p>
<h2 id="u4EC0_u4E48_u662FUITableView_3F"><a href="#u4EC0_u4E48_u662FUITableView_3F" class="headerlink" title="什么是UITableView?"></a>什么是UITableView?</h2><p>1.<strong>UITableView继承自UIScrollView,支持垂直滚动，而且性能极好。</strong></p>
<p>UITbleView分为两种样式：</p>
<p><img src="/images/tableview1.png" alt=""></p>
<p><img src="/images/tableview2.png" alt=""></p>
<ol>
<li>不分组的  UITableViewStylePlain</li>
<li>分组        UITableViewStyleGroued</li>
</ol>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span><span class="built_in">NS_ENUM</span>(<span class="built_in">NSInteger</span>, <span class="built_in">UITableViewStyle</span>) &#123;</span><br><span class="line">       <span class="built_in">UITableViewStylePlain</span>,                 <span class="comment">// regular table view</span></span><br><span class="line">       <span class="built_in">UITableViewStyleGrouped</span>                <span class="comment">// preferences style table view</span></span><br><span class="line">       &#125;;</span><br></pre></td></tr></table></figure>
<p>2.可以分组显示内容，其中分组称为section，行称为row。</p>
<p>3.frame决定了tableview显示的位置和边框，每一行的位置都会放一个UITableViewCell来负责显示行的内容。</p>
<p>4.常用的属性：</p>
<ol>
<li>分割线样式        separatorStyle</li>
<li>分割线颜色        sepatatorColor</li>
<li>行高            rowHeight</li>
<li>控制代理        delegate</li>
<li>数据代理        dataSource</li>
<li>与边框的分隔距离设置    separatorInset</li>
</ol>
<h2 id="UITableView_u7528_u6765_u5E72_u561B"><a href="#UITableView_u7528_u6765_u5E72_u561B" class="headerlink" title="UITableView用来干嘛"></a>UITableView用来干嘛</h2><p>UITableView用来展示大量的数据信息给用户，比如自己有很多种信息想呈现给用户，就要通过tableview来呈现，在iOS系统自带的原生app里面非常常见，比如说通讯录这个应用，就通过每一行显示一个联系人来展现联系人的信息，当你点击时就会进入到另一个界面，下一个界面也是通过tableview来实现的，所以说掌握好UITableview对开发学习十分有帮助。</p>
<p>下面我就来讲一讲，它的具体用法。<br>
          <div class="post-more-link text-center">
            <a class="btn" href="/2016/03/10/UITableView详解/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/01/iOS四种本地存储/" itemprop="url">
                  iOS开发中四种本地存储
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-03-01T18:03:58+08:00" content="2016-03-01">
              2016-03-01
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/01/iOS四种本地存储/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/01/iOS四种本地存储/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          
         

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <h1 id="u524D_u8A00"><a href="#u524D_u8A00" class="headerlink" title="前言"></a>前言</h1><p>在学习的过程中学习到iOS中有四种本地存储，也就是数据持久化，把数据存储在沙盘中，使得应用程序在退出下次访问的时候可以继续读取数据，现在把他们做一个总结。</p>
<ul>
<li><strong>plist</strong>(文件属性)</li>
<li><strong>preference</strong>(偏好设置)</li>
<li><strong>NSkeyedArchiver</strong>(归档)</li>
<li><strong>SQLite3</strong></li>
<li><strong>CoreDate</strong></li>
</ul>
<h1 id="u6C99_u76D2"><a href="#u6C99_u76D2" class="headerlink" title="沙盒"></a>沙盒</h1><p>在说上述存储方式之前，我们先要清楚社和目录的机制，在iOS中，每个程序都只能访问自己的目录，那么那个目录就成为沙盒目录。</p>
<h2 id="1-_u7ED3_u6784"><a href="#1-_u7ED3_u6784" class="headerlink" title="1.结构"></a>1.结构</h2><p>我们先来看下沙盒下有那些目录</p>
<p><img src="/images/目录结构.png" alt=""></p>
<h3 id="Documents"><a href="#Documents" class="headerlink" title="Documents"></a>Documents</h3><p>保存应用运行时生成的需要持久化的数据，iTunes同步设备时会备份该目录。例如，游戏应用可将游戏存档保存在该目录</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *path = <span class="built_in">NSSearchPathForDirectoriesInDomains</span>(<span class="built_in">NSDocumentDirectory</span>,<span class="built_in">NSUserDomainMask</span>, <span class="literal">YES</span>)<span class="variable">.firstObject</span>;</span><br><span class="line">  <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, path);</span><br></pre></td></tr></table></figure>
<h3 id="Library/Caches"><a href="#Library/Caches" class="headerlink" title="Library/Caches"></a>Library/Caches</h3><p>iTunes不会同步此文件夹，适合存储一些体积较大，不需要备份的数据。</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *caches=[<span class="built_in">NSSearchPathForDirectoriesInDomains</span>(<span class="built_in">NSCachesDirectory</span>, <span class="built_in">NSUserDomainMask</span>, <span class="literal">YES</span>) lastObject];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,caches);</span><br></pre></td></tr></table></figure>
<h3 id="Library/Preferences"><a href="#Library/Preferences" class="headerlink" title="Library/Preferences"></a>Library/Preferences</h3><p>保存应用的所有偏好设置，iOS的Settings(设置)应用会在该目录中查找应用的设置信息。iTunes同步设备时会备份该目录。</p>
<h3 id="tmp"><a href="#tmp" class="headerlink" title="tmp"></a>tmp</h3><p>保存应用运行时所需的临时数据，使用完毕后再将相应的文件从该目录删除。应用没有运行时，系统也可能会清除该目录下的文件。iTunes同步设备时不会备份该目录。</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *tmpPath = <span class="built_in">NSTemporaryDirectory</span>();</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,tmpPath);</span><br></pre></td></tr></table></figure>
<h2 id="2-Plist_u6587_u4EF6"><a href="#2-Plist_u6587_u4EF6" class="headerlink" title="2.Plist文件"></a>2.Plist文件</h2><p>Plist就是属性列表（Property List）的简称，是Apple公司自己发明的来存储数据的。plist文件就是将某些特定的类，通过xml文件的方式保存在目录中。</p>
<p>可以被序列化的类型只有以下几种：</p>
<ul>
<li><p>NSArray</p>
</li>
<li><p>NSMutableArray</p>
</li>
<li><p>NSDictionary</p>
</li>
<li><p>NSMutableDictionary</p>
</li>
<li><p>NSString</p>
</li>
<li><p>NSMutableString</p>
</li>
<li><p>NSNumber</p>
</li>
<li><p>NSData</p>
</li>
</ul>
          <div class="post-more-link text-center">
            <a class="btn" href="/2016/03/01/iOS四种本地存储/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/01/13/子网掩码详解/" itemprop="url">
                  子网掩码详解(转)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-01-13T13:47:09+08:00" content="2016-01-13">
              2016-01-13
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/网络/" itemprop="url" rel="index">
                    <span itemprop="name">网络</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/01/13/子网掩码详解/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/01/13/子网掩码详解/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          
         

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <h1 id="u4E00_u3001__u5B50_u7F51_u63A9_u7801_u7684_u6982_u5FF5_u53CA_u4F5C_u7528"><a href="#u4E00_u3001__u5B50_u7F51_u63A9_u7801_u7684_u6982_u5FF5_u53CA_u4F5C_u7528" class="headerlink" title="一、 子网掩码的概念及作用"></a>一、 子网掩码的概念及作用</h1><p>子网掩码 (subnet mask) 又叫网络掩码、地址掩码、子网络遮罩，是一个应用于 TCP/IP 网络的 32 位二进制值。它可以屏蔽掉 IP 地址中的一部分，从而分离出 IP 地址中的网络部分与主机部分，基于子网掩码，管理员可以将网络进一步划分为若干子网。它必须结合 IP 地址一起使用。</p>
<h1 id="u4E8C_u3001__u4E3A_u4EC0_u4E48_u9700_u8981_u4F7F_u7528_u5B50_u7F51_u63A9_u7801"><a href="#u4E8C_u3001__u4E3A_u4EC0_u4E48_u9700_u8981_u4F7F_u7528_u5B50_u7F51_u63A9_u7801" class="headerlink" title="二、 为什么需要使用子网掩码"></a>二、 为什么需要使用子网掩码</h1><p>虽然我们说子网掩码可以分离出 IP 地址中的网络部分与主机部分，可大家还是会有疑问，比如为什么要区分网络地址与主机地址？区分以后又怎样呢？那么好，让我们再详细的讲一下吧！  </p>
<p>在使用 TCP/IP 协议的两台计算机之间进行通信时，我们通过将本机的子网掩码与接受方主机的 IP 地址进行 ‘ 与 ‘ 运算，即可得到目标主机所在的网络号，又由于每台主机在配置 TCP/IP 协议时都设置了一个本机 IP 地址与子网掩码，所以可以知道本机所在的网络号。</p>
<p>通过比较这两个网络号，就可以知道接受方主机是否在本网络上。如果网络号相同，表明接受方在本网络上，那么可以通过相关的协议把数据包直接发送到目标主机；如果网络号不同，表明目标主机在远程网络上，那么数据包将会发送给本网络上的路由器，由路由器将数据包发送到其他网络，直至到达目的地。在这个过程中你可以看到，子网掩码是不可或缺的！</p>
<h1 id="u4E09_u3001__u5982_u4F55_u7528_u5B50_u7F51_u63A9_u7801_u5F97_u5230_u7F51_u7EDC_/__u4E3B_u673A_u5730_u5740"><a href="#u4E09_u3001__u5982_u4F55_u7528_u5B50_u7F51_u63A9_u7801_u5F97_u5230_u7F51_u7EDC_/__u4E3B_u673A_u5730_u5740" class="headerlink" title="三、 如何用子网掩码得到网络 / 主机地址"></a>三、 如何用子网掩码得到网络 / 主机地址</h1><p>既然子网掩码这么重要，那么它是如何分离出 IP 地址中的网络地址和主机地址的呢？</p>
<p>过程如下：</p>
<ol>
<li><p>将 IP 地址与子网掩码转换成二进制；</p>
</li>
<li><p>将二进制形式的 IP 地址与子网掩码做 ‘ 与 ‘ 运算，将答案化为十进制便得到网络地址；</p>
</li>
<li><p>将二进制形式的子网掩码取 ‘ 反 ‘ ；</p>
</li>
<li><p>将取 ‘ 反 ‘ 后的子网掩码与 IP 地址做 ‘ 与 ‘ 运算，将答案化为十进制便得到主机地址。</p>
</li>
</ol>
<p>下面我们用一个例子给大家演示：</p>
<p>假设有一个 I P 地址： 192.168.0.1</p>
<p>子网掩码为： 255.255.255.0</p>
<p>化为二进制为： I P 地址 11000000.10101000.00000000.00000001</p>
<p>子网掩码 11111111.11111111.11111111.00000000</p>
<p>将两者做 ‘ 与 ‘ 运算得： 11000000.10101000.00000000.00000000</p>
<p>将其化为十进制得： 192.168.0.0</p>
<p>这便是上面 IP 的网络地址，主机地址以此类推。<br>
          <div class="post-more-link text-center">
            <a class="btn" href="/2016/01/13/子网掩码详解/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/01/06/iOS开发学习/" itemprop="url">
                  iOS开发学习
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-01-06T22:10:23+08:00" content="2016-01-06">
              2016-01-06
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/01/06/iOS开发学习/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/01/06/iOS开发学习/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          
         

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <h1 id="u524D_u8A00"><a href="#u524D_u8A00" class="headerlink" title="前言"></a>前言</h1><p> 其实早就想在博客上分享和保存自己的学习笔记了，只是一直碍于没有很好的平台，所以平时都是写在本地，得益于最近创建了自己的博客，现在准备在寒假里投注更多的时间去学习iOS，不会<br> 像在学校里一样，会有一些杂事分心。现在我开始在这里写下自己碰到的一些问题和记录一些重要的知识点，为自己后来回顾时也可以得到帮助。关于oc的一些知识和iOS的前面的一些基础我就<br> 不在这里详细记录了，等以后碰到问题时再总结。</p>
<h2 id="@property_u7684_u4F7F_u7528"><a href="#@property_u7684_u4F7F_u7528" class="headerlink" title="@property的使用"></a>@property的使用</h2><p><em>关于 property</em>：它是提供成员变量的访问方法的声明，控制成员变量的访问权限，控制多线程时成员变量的访问环境。property不仅可以在interface，在协议protocol中可以使用。<br>@property（attribute1，attribute2,…） 是property的官方表达式，其中的attribute都是属性。下面我对属性列表做一个小的总结。</p>
<h3 id="u63A7_u5236_u6743_u9650"><a href="#u63A7_u5236_u6743_u9650" class="headerlink" title="控制权限"></a>控制权限</h3><p>1.可读性，readonly ， readwrite<br>    如果一个属性中的属性列表中存在readwrite，那么这种属性就是属性变量的默认属性，表示可读可写。也就是说如果没有显示说明属性列表中的readwrite，那么你申请的属性变量就是<br>    readwrite属性的。可以使用get方法和set方法。<br>    如果一个属性中的属性列表方法存在readonly，那么这个属性变量就是只读的，也就是说你只能使用这个变量的get方法了。</p>
<h3 id="u624B_u52A8_u7BA1_u7406_u5185_u5B58_u7684_u5173_u952E_u5B57"><a href="#u624B_u52A8_u7BA1_u7406_u5185_u5B58_u7684_u5173_u952E_u5B57" class="headerlink" title="手动管理内存的关键字"></a>手动管理内存的关键字</h3><p>2.assign<br>    setter方法直接赋值，不生成内存管理代码。当属性是一个基本数据类型的时候，使用assign。<br>3.retain<br>    在setter 和 getter方法中加入一些内存管理的代码。当属性是一个普通OC对象的时候，使用retain。setter方法对参数进行release旧值，在retain新值。<br>4.copy<br>    复制对象，NSString 使用copy。setter方法进行copy操作，与retain处理流程一样，先release旧值，再copy出新对象。</p>
<h3 id="u7EBF_u7A0B_u5B89_u5168"><a href="#u7EBF_u7A0B_u5B89_u5168" class="headerlink" title="线程安全"></a>线程安全</h3><p>5.nonatomic<br>    非原子，不会生成线程安全的代码，速度快，iOS通常都是这种<br>
          <div class="post-more-link text-center">
            <a class="btn" href="/2016/01/06/iOS开发学习/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    

  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



        </div>

        


        

      </div>

      
        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="/images/ico.jpg" alt="zhouchang" itemprop="image"/>
          <p class="site-author-name" itemprop="name">zhouchang</p>
        </div>
        <p class="site-description motion-element" itemprop="description">我怎敢倒下，我身后空无一人。</p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">12</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">6</span>
              <span class="site-state-item-name">分类</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">8</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/chouchang" target="_blank">
                  
                    <i class="fa fa-github"></i> GitHub
                  
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/u/3562983664" target="_blank">
                  
                    <i class="fa fa-globe"></i> weibo
                  
                </a>
              </span>
            
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      

    </div>
  </aside>


      
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="icon-next-heart fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zhouchang</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT
  </a>
</div>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

本站总访问量 <span id="busuanzi_value_site_pv"></span> &nbsp&nbsp&nbsp
您是第<span id="busuanzi_value_site_uv"></span>个来到的小伙伴



      </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
    

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"vaexiaochang"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>
    
     


    
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.2"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.2"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
<script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

<script type="text/javascript" src="/js/motion.js?v=0.4.5.2" id="motion.global"></script>


  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  

  <script type="text/javascript" src="/js/bootstrap.js"></script>

  
  

  
  

</body>
</html>
